# üõí Wilson Market

## Sobre o Projeto

Sistema completo de e-commerce moderno e responsivo. Uma aplica√ß√£o full-stack que oferece autentica√ß√£o segura de usu√°rios, cat√°logo de produtos com pagina√ß√£o, carrinho de compras inteligente, gerenciamento de imagens e integra√ß√£o com WhatsApp para finaliza√ß√£o de pedidos.

### üéØ Principais Funcionalidades

- **Cat√°logo de Produtos**: Navega√ß√£o otimizada com pagina√ß√£o (12 produtos por p√°gina)
- **Sistema de Busca**: Busca em tempo real com debounce para performance
- **Carrinho Inteligente**: Adi√ß√£o/remo√ß√£o de produtos com persist√™ncia no banco
- **Checkout Completo**: Tela de confirma√ß√£o de pedidos com integra√ß√£o WhatsApp
- **Perfil de Usu√°rio**: Gerenciamento completo de perfil e hist√≥rico de pedidos
- **Upload de Imagens**: Sistema seguro para gerenciar imagens dos produtos
- **Autentica√ß√£o Robusta**: Login seguro com pol√≠ticas RLS do Supabase
- **Interface Responsiva**: Design moderno que funciona em todos os dispositivos
- **Anima√ß√µes Suaves**: Transi√ß√µes elegantes entre p√°ginas e elementos

## üöÄ Tecnologias Utilizadas

### Core Stack

- **Next.js 15** - Framework React com App Router
- **TypeScript** - Tipagem est√°tica para JavaScript
- **Tailwind CSS** - Framework CSS utilit√°rio para estiliza√ß√£o
- **Supabase** - Backend-as-a-Service completo

### Funcionalidades Avan√ßadas

- **Pagina√ß√£o Inteligente** - M√°ximo 12 produtos por p√°gina para otimizar carregamento
- **Upload de Imagens** - Sistema de batch save para gerenciar imagens dos produtos
- **RLS (Row Level Security)** - Seguran√ßa avan√ßada no n√≠vel de linha do banco
- **Autentica√ß√£o Contextual** - Controle de acesso baseado em usu√°rios espec√≠ficos
- **Interface de Perfil** - Dropdown com op√ß√µes de perfil e logout

### Bibliotecas e Ferramentas

- **@supabase/ssr** - Integra√ß√£o Supabase com Server-Side Rendering
- **Lucide React** - Biblioteca de √≠cones moderna e consistente
- **Context API** - Gerenciamento de estado global nativo do React
- **ESLint** - Linting e formata√ß√£o de c√≥digo

## üì± Funcionalidades Detalhadas

### üõçÔ∏è Cat√°logo de Produtos

- Visualiza√ß√£o paginada (12 produtos por p√°gina)
- Busca em tempo real com debounce
- Carregamento otimizado com skeletons
- Navega√ß√£o fluida entre p√°ginas

### üñºÔ∏è Gerenciamento de Imagens

- **Upload Seguro**: Apenas usu√°rios autenticados podem fazer upload
- **Sistema de Batch**: Altera√ß√µes ficam pendentes at√© serem salvas
- **Interface Intuitiva**: Visual feedback para altera√ß√µes pendentes
- **Persist√™ncia Garantida**: Imagens s√£o salvas permanentemente no banco
- **Rota Protegida**: Acesso via `/upload-images` apenas para usu√°rios logados
- **Valida√ß√£o de Arquivos**: Sistema verifica formato e tamanho das imagens

### üß™ P√°ginas de Teste e Desenvolvimento

O projeto inclui p√°ginas de teste para desenvolvimento e debug:

- **`/test-database`**: Testa conex√£o e opera√ß√µes do banco de dados
- **`/test-supabase`**: Verifica configura√ß√µes e pol√≠ticas do Supabase
- **`/test-images`**: Testa sistema de upload e manipula√ß√£o de imagens
- **`/test-card-images`**: Valida exibi√ß√£o de imagens nos cards de produtos

**Nota**: Essas p√°ginas s√£o para desenvolvimento/debug e podem ser removidas em produ√ß√£o, mas demonstram a metodologia de testes durante o desenvolvimento.

### üîê Seguran√ßa e Autentica√ß√£o

- **Login Obrigat√≥rio**: Acesso controlado √†s funcionalidades cr√≠ticas
- **RLS Policies**: Seguran√ßa no n√≠vel do banco de dados
- **Sess√µes Seguras**: Gerenciamento de sess√£o com Supabase Auth
- **Perfil de Usu√°rio**: Interface para gerenciar conta e logout

### üõí Carrinho de Compras

- Adi√ß√£o/remo√ß√£o em tempo real
- Persist√™ncia entre sess√µes
- C√°lculo autom√°tico de totais
- Interface responsiva e intuitiva
- Dois fluxos de finaliza√ß√£o: checkout completo ou WhatsApp direto

### üéØ Checkout e Finaliza√ß√£o

- **Tela de Confirma√ß√£o**: Interface elegante para inserir dados do cliente
- **Valida√ß√£o de Formul√°rio**: Verifica√ß√£o em tempo real dos dados inseridos
- **Integra√ß√£o WhatsApp**: Envio autom√°tico do pedido formatado para WhatsApp
- **Anima√ß√µes Fluidas**: Feedback visual durante todo o processo de checkout
- **Seguran√ßa Total**: Todos os dados s√£o validados antes do envio

### üë§ Perfil e Hist√≥rico

- **Perfil Completo**: Visualiza√ß√£o e edi√ß√£o de dados pessoais
- **Hist√≥rico de Pedidos**: Visualiza√ß√£o de todos os pedidos enviados via WhatsApp
- **Modal de Detalhes**: Visualiza√ß√£o completa de cada pedido
- **Busca de Pedidos**: Encontre rapidamente pedidos espec√≠ficos
- **Informa√ß√µes Adicionais**: Telefone, localiza√ß√£o e data de cadastro

## ü§ñ IA Utilizada no Desenvolvimento

### GitHub Copilot + Claude Sonnet 4.0

- **Assistente Principal**: GitHub Copilot integrado ao VS Code com modelo Claude Sonnet 3.5
- **Como ajudou**: Acelerou significativamente o desenvolvimento de componentes React, configura√ß√µes do Supabase, l√≥gica de autentica√ß√£o e valida√ß√µes de formul√°rio
- **Partes geradas com IA**:
  - Estrutura inicial dos contextos (AuthContext, CartContext)
  - Tipagem TypeScript complexa para integra√ß√£o com Supabase
  - Configura√ß√µes de middleware e prote√ß√£o de rotas
  - Valida√ß√µes de formul√°rio e tratamento de erros
  - Helpers para manipula√ß√£o de dados do banco
- **Desenvolvimento Manual**:
  - Arquitetura geral do projeto
  - L√≥gica de neg√≥cio espec√≠fica do e-commerce
  - Integra√ß√£o personalizada com WhatsApp
  - Design de interface e experi√™ncia do usu√°rio
  - Componentes utilizados.

### V0.dev para Layout e Design

- **Ferramenta**: V0.dev (Vercel) para gera√ß√£o de componentes de interface
- **Como foi usado**: Cria√ß√£o de layouts iniciais e estruturas de componentes
- **Prompts utilizados**: Prompts espec√≠ficos gerados pelo ChatGPT para criar interfaces modernas e responsivas
- **Customiza√ß√£o**: Todos os componentes foram adaptados e personalizados para as necessidades espec√≠ficas do projeto

### ChatGPT para Prompts e Estrat√©gia

- **Uso**: Gera√ß√£o de prompts otimizados para o V0.dev e GitHub Copilot
- **Estrat√©gia**: Cria√ß√£o de prompts espec√≠ficos para gerar c√≥digo TypeScript bem tipado
- **Planejamento**: Auxiliou na estrutura√ß√£o da arquitetura do projeto

### Abordagem de Desenvolvimento

- **Componentes Pr√≥prios**: Todos os componentes foram desenvolvidos do zero, sem bibliotecas de UI externas
- **Aproveitamento de IA**: Uso inteligente de ferramentas de IA para acelerar desenvolvimento mantendo qualidade
- **Revis√£o Manual**: Todo c√≥digo gerado por IA foi revisado, testado e adaptado para garantir qualidade e seguran√ßa
- **Itera√ß√£o Cont√≠nua**: Processo iterativo de gera√ß√£o, teste e refinamento com assist√™ncia da IA

## üèóÔ∏è Como Rodar o Projeto

### Pr√©-requisitos

- Node.js 18+ instalado
- Conta no Supabase (gratuita)
- Editor de c√≥digo (recomendado: VS Code)

### Passo a Passo

1. **Clone o reposit√≥rio**

```bash
git clone <url-do-repositorio>
cd wilson-market
```

2. **Instale as depend√™ncias**

```bash
npm install
```

3. **Configure as vari√°veis de ambiente**

Crie um arquivo `.env.local` na raiz do projeto:

```env
NEXT_PUBLIC_SUPABASE_URL=sua_url_do_supabase
NEXT_PUBLIC_SUPABASE_ANON_KEY=sua_chave_publica_do_supabase
```

4. **Configure o banco de dados**

Execute os scripts SQL no Supabase SQL Editor para criar as tabelas e pol√≠ticas:

```sql
-- Configurar RLS para tabela products
ALTER TABLE products ENABLE ROW LEVEL SECURITY;

-- Pol√≠tica para leitura p√∫blica
CREATE POLICY "products_select_policy" ON products
  FOR SELECT TO public USING (true);

-- Pol√≠tica para updates apenas usu√°rios autenticados
CREATE POLICY "products_update_policy" ON products
  FOR UPDATE TO authenticated
  USING (true) WITH CHECK (true);
```

5. **Execute o projeto**

```bash
npm run dev
```

6. **Acesse o sistema**

**P√°ginas Principais:**

- **Cat√°logo**: `http://localhost:3000/catalog`
- **Carrinho**: `http://localhost:3000/cart`
- **Checkout**: `http://localhost:3000/checkout`
- **Perfil**: `http://localhost:3000/profile`
- **Upload de Imagens**: `http://localhost:3000/upload-images`

**P√°ginas de Teste/Debug (para desenvolvimento):**

- **Teste Database**: `http://localhost:3000/test-database`
- **Teste Supabase**: `http://localhost:3000/test-supabase`
- **Teste Images**: `http://localhost:3000/test-images`
- **Teste Card Images**: `http://localhost:3000/test-card-images`

**Nota**: O login ser√° solicitado automaticamente se necess√°rio

## üîß Metodologia de Desenvolvimento

### üß™ Approach Test-Driven

Durante o desenvolvimento, foram criadas p√°ginas espec√≠ficas para testar cada funcionalidade:

- **Testes de Banco**: Valida√ß√£o de conex√µes e opera√ß√µes CRUD
- **Testes de Upload**: Verifica√ß√£o do sistema de imagens
- **Testes de Interface**: Valida√ß√£o de componentes visuais
- **Debug em Tempo Real**: P√°ginas que mostram estado atual do sistema

### üîÑ Processo Iterativo

1. **Desenvolvimento com IA**: Uso do GitHub Copilot para acelerar cria√ß√£o
2. **Teste Imediato**: P√°ginas de teste para validar funcionalidades
3. **Refinamento Manual**: Ajustes e melhorias baseados nos testes
4. **Integra√ß√£o**: Combina√ß√£o de todas as partes testadas

### üéØ Qualidade de C√≥digo

- **TypeScript Strict**: Tipagem rigorosa em todo o projeto
- **ESLint**: Linting autom√°tico para consist√™ncia
- **Componentes Reutiliz√°veis**: Arquitetura modular e escal√°vel
- **Context API**: Gerenciamento de estado centralizado e eficiente

## üìÅ Estrutura de Arquivos

```
src/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ auth/          # P√°ginas de autentica√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ catalog/       # Cat√°logo principal com pagina√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ cart/          # Carrinho de compras
‚îÇ   ‚îú‚îÄ‚îÄ checkout/      # Tela de finaliza√ß√£o e confirma√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ profile/       # Perfil do usu√°rio e hist√≥rico de pedidos
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ orders/    # P√°gina com todos os pedidos
‚îÇ   ‚îú‚îÄ‚îÄ upload-images/ # Gerenciamento de imagens (protegido)
‚îÇ   ‚îú‚îÄ‚îÄ test-database/ # üß™ Teste de conex√£o com banco
‚îÇ   ‚îú‚îÄ‚îÄ test-supabase/ # üß™ Teste de configura√ß√µes Supabase
‚îÇ   ‚îú‚îÄ‚îÄ test-images/   # üß™ Teste de sistema de upload
‚îÇ   ‚îî‚îÄ‚îÄ test-card-images/ # üß™ Teste de exibi√ß√£o de imagens
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ Header.tsx           # Cabe√ßalho com perfil dropdown
‚îÇ   ‚îú‚îÄ‚îÄ Pagination.tsx       # Componente de pagina√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ WhatsAppButton.tsx   # Bot√£o reutiliz√°vel para WhatsApp
‚îÇ   ‚îú‚îÄ‚îÄ OrderHistory.tsx     # Hist√≥rico de pedidos recentes
‚îÇ   ‚îú‚îÄ‚îÄ OrderModal.tsx       # Modal para visualizar pedidos
‚îÇ   ‚îú‚îÄ‚îÄ EditProfileModal.tsx # Modal para editar perfil
‚îÇ   ‚îú‚îÄ‚îÄ ImageUpload.tsx      # Upload de imagens
‚îÇ   ‚îú‚îÄ‚îÄ ImageUploadAuth.tsx  # Autentica√ß√£o para upload
‚îÇ   ‚îî‚îÄ‚îÄ ProductDetailView.tsx # Detalhes do produto (sem avalia√ß√µes)
‚îú‚îÄ‚îÄ context/
‚îÇ   ‚îú‚îÄ‚îÄ AuthContext.tsx      # Contexto de autentica√ß√£o
‚îÇ   ‚îî‚îÄ‚îÄ CartContext.tsx      # Contexto do carrinho
‚îî‚îÄ‚îÄ lib/
    ‚îú‚îÄ‚îÄ supabase-helpers.ts  # Fun√ß√µes do banco
    ‚îî‚îÄ‚îÄ upload-images.ts     # Helpers para upload
```

## üîê Credenciais de Acesso

### Upload de Imagens

- **Email**: `admin@ecommerce.local`
- **Senha**: `admin123456`

_As credenciais s√£o criadas automaticamente na primeira tentativa de login._

## üé® Melhorias Implementadas

### ‚ú® Atualiza√ß√µes Recentes

- **üè™ Rebranding**: Mudan√ßa de nome para "Wilson Market"
- **üìÑ Pagina√ß√£o**: Cat√°logo limitado a 12 produtos por p√°gina
- **üë§ Menu de Perfil**: Dropdown com "Meu Perfil" e op√ß√µes de logout
- **üñºÔ∏è Upload Seguro**: Sistema de autentica√ß√£o para upload de imagens
- **‚≠ê Limpeza de Interface**: Remo√ß√£o do sistema de avalia√ß√µes
- **üîí Seguran√ßa RLS**: Pol√≠ticas avan√ßadas de seguran√ßa no banco
- **üé® Anima√ß√µes Suaves**: Transi√ß√µes elegantes entre p√°ginas e componentes
- **üõí Checkout Completo**: Nova tela de finaliza√ß√£o com integra√ß√£o WhatsApp
- **üì± Componentes Reutiliz√°veis**: WhatsAppButton e outros componentes modulares
- **üë§ Sistema de Perfil**: Gerenciamento completo de perfil do usu√°rio
- **üìã Hist√≥rico de Pedidos**: Visualiza√ß√£o e busca de pedidos anteriores
- **üîß Modais Interativos**: Edi√ß√£o de perfil e visualiza√ß√£o de pedidos

### üöÄ Performance

- **Debounce na Busca**: Evita requisi√ß√µes excessivas
- **Loading States**: Feedback visual durante carregamentos
- **Pagina√ß√£o Otimizada**: Carrega apenas os produtos necess√°rios
- **Lazy Loading**: Imagens carregadas sob demanda

## üõ°Ô∏è Seguran√ßa

- **Row Level Security (RLS)**: Controle de acesso no n√≠vel do banco
- **Autentica√ß√£o Obrigat√≥ria**: Fun√ß√µes cr√≠ticas protegidas
- **Valida√ß√£o de Sess√£o**: Verifica√ß√£o cont√≠nua de autentica√ß√£o
- **Sanitiza√ß√£o de Dados**: Preven√ß√£o de ataques XSS e SQL injection

## üì± Responsividade

- **Mobile First**: Design otimizado para dispositivos m√≥veis
- **Grid Responsivo**: Layout adapta automaticamente ao tamanho da tela
- **Touch Friendly**: Bot√µes e elementos otimizados para toque
- **Performance Mobile**: Carregamento otimizado para conex√µes lentas

## üîß Scripts Dispon√≠veis

```bash
npm run dev      # Inicia servidor de desenvolvimento
npm run build    # Cria build de produ√ß√£o
npm run start    # Inicia servidor de produ√ß√£o
npm run lint     # Executa linting do c√≥digo
```

## üìû Suporte

Para d√∫vidas ou sugest√µes:

- **Email**: wilson.hernandesjunior@gmail.com
- **GitHub Issues**: Abra uma issue no reposit√≥rio

---

**Wilson Market** - Desafio gerado para a STG

5. **Acesse a aplica√ß√£o**
   Abra [http://localhost:3000](http://localhost:3000) no seu navegador

## üîó Links

- **Deploy**: https://stg-catalog-challenge-plhg.vercel.app/
- **Reposit√≥rio**: [GitHub - stg-catalog-challenge]
- **Supabase Project**: [Configura√ß√£o em desenvolvimento]

## üë®‚Äçüíª Desenvolvedor

**Wilson Hernandes Cardoso Junior**

- Candidato para Desenvolvedor FullStack - STG Company
- Especializa√ß√£o: TypeScript, React, Next.js
- Foco: Desenvolvimento moderno com IA e boas pr√°ticas

---

_Projeto desenvolvido para o desafio t√©cnico da STG Company - Agosto 2025_
